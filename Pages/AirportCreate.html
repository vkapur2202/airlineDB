<style>
    .gradient-custom {
        /* fallback for old browsers */
        background: #314c8c;

        /* Chrome 10-25, Safari 5.1-6 */
        background: -webkit-linear-gradient(to right, rgba(49, 76, 140, 1), rgba(74, 123, 161, 1));

        /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */
        background: linear-gradient(to right, rgba(49, 76, 140, 1), rgba(74, 123, 161, 1));
    }

</style>

<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/css/bootstrap.min.css" integrity="sha384-y3tfxAZXuh4HwSYylfB+J125MxIs6mR5FOHamPBG064zB+AFeWH94NdvaCBm8qnd" crossorigin="anonymous">
</head>
<body class = "gradient-custom" align = "center">
<nav class="navbar navbar-inverse">
    <div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="/" class="pull-left"><img src="../Images/logo_resized.png"></a>
        </div>
        <div class="collapse navbar-collapse" id="myNavbar">
            <ul class="nav navbar-nav">
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbardrop" data-toggle="dropdown" style="padding-top: 1em;">
                        Flights
                    </a>
                    <div class="dropdown-menu">
                        <a class="dropdown-item" href="./searchflights">Search Flights</a>
                        <a class="dropdown-item" href="./createflight">Register Flight</a>
                    </div>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbardrop" data-toggle="dropdown" style="padding-top: 1em;">
                        Customers
                    </a>
                    <div class="dropdown-menu">
                        <a class="dropdown-item" href="./addcustomer">Register New Customer</a>
                        <a class="dropdown-item" href="./addcustomeronflight">Add Customer to Flight</a>
                    </div>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbardrop" data-toggle="dropdown" style="padding-top: 1em;">
                        Pilots
                    </a>
                    <div class="dropdown-menu">
                        <a class="dropdown-item" href="./addpilot">Register Pilot</a>
                    </div>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbardrop" data-toggle="dropdown" style="padding-top: 1em;">
                        Airports
                    </a>
                    <div class="dropdown-menu">
                        <a class="dropdown-item" href="./searchairports">Search Airports</a>
                        <a class="dropdown-item" href="./addairport">Register Airport</a>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</nav>

<div class="container register">
    <div style = "height: 3em;"></div>
    <div class = "row">
        <h1 style = "color: white;">Register a New Airport</h1>
    </div>
    <div style = "height: 2em;"></div>
    <div class="row">
        <div class = "col-md-4"></div>
        <div class="col-md-4">
            <div class="row register-form" align="center">
                <div class="col-md-12">
                    <div class="form-group">
                        <input type="text" id = "aCreateName" class="form-control" placeholder="Airport Name" value="">
                    </div>
                    <div style = "height: 1em;"></div>
                    <div class="form-group">
                        <input type="text" id = "aCreateCity" class="form-control" placeholder="City" value="">
                    </div>
                    <div style = "height: 1em;"></div>
                    <div class="form-group">
                        <input type="text" id = "aCreateNumGates" class="form-control" placeholder="Country" value="">
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class = "col-md-4"></div>
</div>
<div style = "height: 1em;"></div>
<div class = "row">
    <div class = "col-md-5">
    </div>
    <div class = "col-md-2">
        <input type="submit" onclick = "return createAirport()" class="btnRegister btn-info btn-block" style = "border-radius: 1em;"value="Create">
    </div>
    <div class = "col-md-5">
    </div>
</div>
<div style = "height: 2em;"></div>
<div class = "row">
    <h5 style = "color: #0daa0d; visibility: visible;"> You have successfully registered a new Airport</h5>
</div>
</div>
<!-- Default form contact -->
<!-- Default form contact -->
</body>
</html>

<script>
    function createAirport() {
        // Form fields, see IDs above
        const params = {
            aname: document.querySelector('#aCreateName').value,
            city: document.querySelector('#aCreateCity').value,
            numgates: document.querySelector('#aCreateNumGates').value,
        }

        const http = new XMLHttpRequest()
        http.open('POST', '/addairport')
        http.setRequestHeader('Content-type', 'application/json')
        http.send(JSON.stringify(params)) // Make sure to stringify
        console.log("here")
        http.onload = function() {
            // Do whatever with response
            console.log("Reached here")
            alert(http.responseText)
        }
    }
</script>